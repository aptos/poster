var angapp = angular.module('angapp', ['ngCookies', 'posts']).
  config(function($routeProvider, $locationProvider) {
  //$locationProvider.hashPrefix('');
  $locationProvider.html5Mode(true);
  $routeProvider.
      when('/', {controller: 'WelcomeCtrl',
         templateUrl:'<%= asset_path("welcome/index.html") %>'}).
        when('/posts', {controller:PostsIndexCtrl,
         templateUrl:'<%= asset_path("posts/index.html") %>'}).
    when('/posts/new', {controller:PostsCreateCtrl,
                templateUrl:'<%= asset_path("posts/new.html") %>'}).
    when('/posts/:id', {controller:PostsShowCtrl,
         templateUrl:'<%= asset_path("posts/show.html") %>'}).
    when('/posts/:id/edit', {controller:PostsEditCtrl,
         templateUrl:'<%= asset_path("posts/edit.html") %>'}).


otherwise({redirectTo:'/'});
});

function CsrfCtrl($cookieStore){
  $cookieStore.put("XSRF-TOKEN",
                   angular.element(document.getElementById('csrf')).
                   attr('data-csrf'));
}

